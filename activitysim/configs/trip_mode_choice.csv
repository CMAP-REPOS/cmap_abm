Label,Description,Expression,DRIVEALONE,SHAREDRIDE2,SHAREDRIDE3,WALK,BIKE,WALK_TRANSIT,PNR_TRANSIT,KNR_TRANSIT,TNC_TRANSIT,TAXI,TNC_SINGLE,TNC_SHARED,SCHBUS
#,Drive alone no toll,,,,,,,,,,,,,,
util_DRIVEALONE_Unavailable,DRIVEALONE - Unavailable,sov_available == False,coef_unavailable,,,,,,,,,,,,
#util_DRIVEALONE_Unavailable_for_zero_auto_households,DRIVEALONE - Unavailable for zero auto households,auto_ownership == 0,coef_unavailable,,,,,,,,,,,,
util_DRIVEALONE_Unavailable_for_persons_less_than_16,DRIVEALONE - Unavailable for persons less than 16,age < 16,coef_unavailable,,,,,,,,,,,,
util_DRIVEALONE_Unavailable_for_joint_tours,DRIVEALONE - Unavailable for joint tours,is_joint == True,coef_unavailable,,,,,,,,,,,,
util_DRIVEALONE_Unavailable_if_didn't_drive_to_work,DRIVEALONE - Unavailable if didn't drive to work,is_atwork_subtour & ~work_tour_is_SOV,coef_unavailable,,,,,,,,,,,,
util_DRIVEALONE_In_vehicle_time,DRIVEALONE - In-vehicle time,@df.da_time_skims * df.time_factor,coef_ivt,,,,,,,,,,,,
#util_DRIVEALONE_Terminal_time,DRIVEALONE - Terminal time,@df.total_terminal_time * df.time_factor,coef_walktime,,,,,,,,,,,,
util_DRIVEALONE_Operating_cost,DRIVEALONE - Operating cost,"@costPerMile * df.da_dist_skims/(np.maximum(df.income,1000)**df.income_exponent)",coef_inc_adj_cost,,,,,,,,,,,,
util_DRIVEALONE_Parking_cost,DRIVEALONE - Parking cost,"@df.total_parking_cost/(np.maximum(df.income,1000)**df.income_exponent)",coef_inc_adj_cost,,,,,,,,,,,,
util_DRIVEALONE_Toll,DRIVEALONE - Toll,"@df.da_cost_skims * 100/(np.maximum(df.income,1000)**df.income_exponent)",coef_inc_adj_cost,,,,,,,,,,,,
util_DRIVEALONE_Person_is_between_16_and_19_years_old,DRIVEALONE - Person is between 16 and 19 years old,@(df.age >= 16) & (df.age <= 19),coef_age1619_da,,,,,,,,,,,,
#,Shared ride 2,,,,,,,,,,,,,,
util_SHAREDRIDE2_Unavailable,SHAREDRIDE2 - Unavailable,hov2_available == False,,coef_unavailable,,,,,,,,,,,
util_SHAREDRIDE2_Unavailable_based_on_party_size,SHAREDRIDE2 - Unavailable based on party size,is_joint & (number_of_participants > 2),,coef_unavailable,,,,,,,,,,,
util_SHAREDRIDE2_In_vehicle_time,SHAREDRIDE2 - In-vehicle time,@df.s2_time_skims * df.time_factor,,coef_ivt,,,,,,,,,,,
#util_SHAREDRIDE2_Terminal_time,SHAREDRIDE2 - Terminal time,@df.total_terminal_time * df.time_factor,,coef_walktime,,,,,,,,,,,
util_SHAREDRIDE2_Operating_cost,SHAREDRIDE2 - Operating cost,"@costPerMile * df.s2_dist_skims/(np.maximum(df.income,1000)**df.income_exponent)",,coef_inc_adj_cost,,,,,,,,,,,
util_SHAREDRIDE2_Parking_cost,SHAREDRIDE2 - Parking cost,"@df.total_parking_cost/(np.maximum(df.income,1000)**df.income_exponent)/costShareSr2",,coef_inc_adj_cost,,,,,,,,,,,
util_SHAREDRIDE2_Toll,SHAREDRIDE2 - Toll,"@df.s2_cost_skims * 100/(np.maximum(df.income,1000)**df.income_exponent)/costShareSr2",,coef_inc_adj_cost,,,,,,,,,,,
util_SHAREDRIDE2_One_person_household,SHAREDRIDE2 - One person household,@(df.hhsize == 1),,coef_hhsize1_sr,,,,,,,,,,,
util_SHAREDRIDE2_Two_person_household,SHAREDRIDE2 - Two person household,@(df.hhsize == 2),,coef_hhsize2_sr,,,,,,,,,,,
util_SHAREDRIDE2_Person_is_16_years_old_or_older,SHAREDRIDE2 - Person is 16 years old or older,@(df.age >= 16),,coef_age16p_sr,,,,,,,,,,,
#,Shared ride 3+,,,,,,,,,,,,,,
util_SHAREDRIDE3_Unavailable,SHAREDRIDE3 - Unavailable,hov3_available == False,,,coef_unavailable,,,,,,,,,,
util_SHAREDRIDE3_Unavailable_based_joint_tour_mode,SHAREDRIDE3 - Unavailable based joint tour mode,@df.is_joint & df.i_tour_mode.isin(I_SR2_MODES),,,coef_unavailable,,,,,,,,,,
util_SHAREDRIDE3_Unavailable_if_tour_mode_is_shared_2,SHAREDRIDE3 - Unavailable if tour mode is shared 2,@df.i_tour_mode.isin(I_SR2_MODES),,,coef_unavailable,,,,,,,,,,
util_SHAREDRIDE3_In_vehicle_time,SHAREDRIDE3 - In-vehicle time,@df.s3_time_skims * df.time_factor,,,coef_ivt,,,,,,,,,,
#util_SHAREDRIDE3_Terminal_time,SHAREDRIDE3 - Terminal time,@df.total_terminal_time * df.time_factor,,,coef_walktime,,,,,,,,,,
util_SHAREDRIDE3_Operating_cost,SHAREDRIDE3 - Operating cost,"@costPerMile * df.s3_dist_skims/(np.maximum(df.income,1000)**df.income_exponent)",,,coef_inc_adj_cost,,,,,,,,,,
util_SHAREDRIDE3_Parking_cost,SHAREDRIDE3 - Parking cost,"@df.total_parking_cost/(np.maximum(df.income,1000)**df.income_exponent)/costShareSr3",,,coef_inc_adj_cost,,,,,,,,,,
util_SHAREDRIDE3_Toll,SHAREDRIDE3 - Toll,"@df.s3_cost_skims * 100/(np.maximum(df.income,1000)**df.income_exponent)/costShareSr3",,,coef_inc_adj_cost,,,,,,,,,,
util_SHAREDRIDE3_One_person_household,SHAREDRIDE3 - One person household,@(df.hhsize == 1),,,coef_hhsize1_sr,,,,,,,,,,
util_SHAREDRIDE3_Two_person_household,SHAREDRIDE3 - Two person household,@(df.hhsize == 2),,,coef_hhsize2_sr,,,,,,,,,,
util_SHAREDRIDE3_Person_is_16_years_old_or_older,SHAREDRIDE3 - Person is 16 years old or older,@(df.age >= 16),,,coef_age16p_sr,,,,,,,,,,
#,Walk,,,,,,,,,,,,,,
util_WALK_Time_up_to_2_miles,WALK - Time up to 2 miles,@(od_skims['DISTWALK'] > 0) * (od_skims['DISTWALK'].clip(upper=walkThresh) + od_skims.reverse('DISTWALK').clip(upper=walkThresh))*60/walkSpeed * df.time_factor,,,,coef_walktime,,,,,,,,,
util_WALK_Time_beyond_2_of_a_miles,WALK - Time beyond 2 of a miles,@(od_skims['DISTWALK'] > 0) * ((od_skims['DISTWALK'] - walkThresh).clip(lower=0) + (od_skims.reverse('DISTWALK') - walkThresh).clip(lower=0))*60/walkSpeed * df.time_factor,,,,coef_walktime,,,,,,,,,
util_WALK_Destination_zone_densityIndex,WALK - Destination zone densityIndex,@df.density_index,,,,coef_density_index,,,,,,,,,
#util_WALK_Topology,WALK - Topology,@df.trip_topology,,,,coef_topology_walk,,,,,,,,,
#,Bike,,,,,,,,,,,,,,
util_BIKE_Unavailable_if_didn't_bike_to_work,BIKE - Unavailable if didn't bike to work,is_atwork_subtour & ~work_tour_is_bike,,,,,coef_unavailable,,,,,,,,
util_BIKE_Time_up_to_6_miles,BIKE - Time up to 6 miles,@(od_skims['DISTBIKE'] > 0) * (od_skims['DISTBIKE'].clip(upper=bikeThresh) + od_skims.reverse('DISTBIKE').clip(upper=bikeThresh))*60/bikeSpeed * df.time_factor,,,,,coef_biketime,,,,,,,,
util_BIKE_Time_beyond_6_of_a_miles,BIKE - Time beyond 6 of a miles,@(od_skims['DISTBIKE'] > 0) * ((od_skims['DISTBIKE'] - bikeThresh).clip(lower=0) + (od_skims.reverse('DISTBIKE') - bikeThresh).clip(lower=0))*60/bikeSpeed * df.time_factor,,,,,coef_biketime,,,,,,,,
util_BIKE_Destination_zone_densityIndex,BIKE - Destination zone densityIndex,@df.density_index,,,,,coef_density_index,,,,,,,,
#util_BIKE_Topology,BIKE - Topology,@df.trip_topology,,,,,coef_topology_bike,,,,,,,,
#,Walk to Transit,,,,,,,,,,,,,,
#util_WALK_TRANSIT_Unavailable,WALK_TRANSIT - Unavailable,walk_transit_available == False,,,,,,coef_unavailable,,,,,,,
util_WALK_TRANSIT_In_vehicle_time,WALK_TRANSIT - In-vehicle time,@df.wt_ivt_skims * df.time_factor,,,,,,coef_ivt,,,,,,,
#util_WALK_TRANSIT_Short_iwait_time,WALK_TRANSIT - Short iwait time,@(df.wt_iwait_skims).clip(upper=waitThresh),,,,,,coef_iwait,,,,,,,
#util_WALK_TRANSIT_Long_iwait_time,WALK_TRANSIT - Long iwait time,@(df.wt_iwait_skims-waitThresh).clip(0),,,,,,coef_iwait,,,,,,,
util_WALK_TRANSIT_iwait_time,WALK_TRANSIT - iwait time,@df.wt_iwait_skims * df.time_factor,,,,,,coef_iwait,,,,,,,
util_WALK_TRANSIT_transfer_wait_time,WALK_TRANSIT - transfer wait time,@df.wt_xwait_skims * df.time_factor,,,,,,coef_xwait,,,,,,,
#util_WALK_TRANSIT_number_of_transfers,WALK_TRANSIT - number of transfers,@(df.wt_xfers_skims).clip(0),,,,,,coef_xfers,,,,,,,
util_WALK_TRANSIT_Walk_access_time,WALK_TRANSIT - Walk access time,@df.wt_wacc_time * df.time_factor,,,,,,coef_walktime,,,,,,,
util_WALK_TRANSIT_Walk_egress_time,WALK_TRANSIT - Walk egress time,@df.wt_wegr_time * df.time_factor,,,,,,coef_walktime,,,,,,,
util_WALK_TRANSIT_Walk_other_time,WALK_TRANSIT - Walk other time,@df.wt_waux_skims * df.time_factor,,,,,,coef_walktime,,,,,,,
util_WALK_TRANSIT_Fare,WALK_TRANSIT - Fare,"@df.wt_fare_skims/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,coef_inc_adj_cost,,,,,,,
#util_WALK_TRANSIT_Crowd,WALK_TRANSIT - Crowding Penalties,@df.wt_crowd_skims * df.time_factor,,,,,,coef_crowd,,,,,,,
#util_WALK_TRANSIT_Cappen,WALK_TRANSIT - Capacity Penalties,@df.wt_cappen_skims * df.time_factor,,,,,,coef_cappen,,,,,,,
util_WALK_TRANSIT_Destination_zone_densityIndex,WALK_TRANSIT - Destination zone densityIndex,@df.dest_density_index,,,,,,coef_density_index,,,,,,,
#util_WALK_TRANSIT_Topology,WALK_TRANSIT - Topology,@df.trip_topology,,,,,,coef_topology_trn,,,,,,,
util_WALK_TRANSIT_Person_is_less_than_10_years_old,WALK_TRANSIT - Person is less than 10 years old,@(df.age <= 10),,,,,,coef_age010_trn,,,,,,,
#PNR Transit,,,,,,,,,,,,,,,
#util_PNR_TRANSIT_Unavailable_for_zero_auto_households,PNR_TRANSIT - Unavailable for zero auto households,auto_ownership == 0,,,,,,,coef_unavailable,,,,,,
util_PNR_TRANSIT_Unavailable_for_persons_less_than_16,PNR_TRANSIT - Unavailable for persons less than 16,age < 16,,,,,,,coef_unavailable,,,,,,
util_PNR_TRANSIT_Destination_zone_densityIndex,PNR_TRANSIT - Destination zone densityIndex,@df.dest_density_index,,,,,,,coef_density_index,,,,,,
#util_PNR_TRANSIT_Topology,PNR_TRANSIT - Topology,@df.trip_topology,,,,,,,coef_topology_trn,,,,,,
util_PNR_TRANSIT_Person_is_less_than_10_years_old,PNR_TRANSIT - Person is less than 10 years old,@(df.age < 10),,,,,,,coef_age010_trn,,,,,,
#TODO util_PNR_TRANSIT_ParkingCost,PNR Parking cost,@df.PCOST,,,,,,,coef_PNR_TRANSIT_ParkingCost,,,,,,
util_PNR_TRANSIT_outbound_Unavailable,PNR_TRANSIT outbound - Unavailable,pnr_transit_out_available == False,,,,,,,coef_unavailable,,,,,,
util_PNR_TRANSIT_outbound_In_vehicle_time,PNR_TRANSIT outbound - In-vehicle time,@df.pt_ivt_skims_out * df.time_factor,,,,,,,coef_ivt,,,,,,
util_PNR_TRANSIT_outbound_iwait_time,PNR_TRANSIT outbound - iwait time,@df.pt_iwait_skims_out * df.time_factor,,,,,,,coef_iwait,,,,,,
util_PNR_TRANSIT_outbound_transfer_wait_time,PNR_TRANSIT outbound - transfer wait time,@df.pt_xwait_skims_out * df.time_factor,,,,,,,coef_xwait,,,,,,
#util_PNR_TRANSIT_outbound_number_of_transfers,PNR_TRANSIT outbound - number of transfers,@(df.pt_xfers_skims_out).clip(0),,,,,,,coef_xfers,,,,,,
util_PNR_TRANSIT_outbound_drive_time,PNR_TRANSIT outbound - drive time,@df.pt_dacc_skims_out * df.time_factor,,,,,,,coef_dtim,,,,,,
util_PNR_TRANSIT_outbound_Walk_egress_time,PNR_TRANSIT outbound - Walk egress time,@df.pt_wegr_time_out * df.time_factor,,,,,,,coef_walktime,,,,,,
util_PNR_TRANSIT_outbound_Walk_other_time,PNR_TRANSIT outbound - Walk other time,@df.pt_waux_skims_out * df.time_factor,,,,,,,coef_walktime,,,,,,
util_PNR_TRANSIT_outbound_Fare,PNR_TRANSIT outbound - Fare,"@df.pt_fare_skims_out/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,coef_inc_adj_cost,,,,,,
util_PNR_TRANSIT_outbound_operating_cost,PNR_TRANSIT outbound - Operating cost,"@(df.pt_dacc_skims_out * driveSpeed / 60 * costPerMile)/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,coef_inc_adj_cost,,,,,,
#util_PNR_TRANSIT_outbound_Crowd,PNR_TRANSIT outbound - Crowding Penalties,@df.pt_crowd_skims_out * df.time_factor,,,,,,,coef_crowd,,,,,,
#util_PNR_TRANSIT_outbound_Cappen,PNR_TRANSIT outbound - Capacity Penalties,@df.pt_cappen_skims_out * df.time_factor,,,,,,,coef_cappen,,,,,,
util_PNR_TRANSIT_inbound_Unavailable,PNR_TRANSIT inbound - Unavailable,pnr_transit_inb_available == False,,,,,,,coef_unavailable,,,,,,
util_PNR_TRANSIT_inbound_In_vehicle_time,PNR_TRANSIT inbound - In-vehicle time,@df.pt_ivt_skims_inb * df.time_factor,,,,,,,coef_ivt,,,,,,
util_PNR_TRANSIT_inbound_iwait_time,PNR_TRANSIT inbound - iwait time,@df.pt_iwait_skims_inb * df.time_factor,,,,,,,coef_iwait,,,,,,
util_PNR_TRANSIT_inbound_transfer_wait_time,PNR_TRANSIT inbound - transfer wait time,@df.pt_xwait_skims_inb * df.time_factor,,,,,,,coef_xwait,,,,,,
#util_PNR_TRANSIT_inbound_number_of_transfers,PNR_TRANSIT inbound - number of transfers,@(df.pt_xfers_skims_inb).clip(0),,,,,,,coef_xfers,,,,,,
util_PNR_TRANSIT_inbound_drive_time,PNR_TRANSIT inbound - drive time,@df.pt_degr_skims_inb * df.time_factor,,,,,,,coef_dtim,,,,,,
util_PNR_TRANSIT_inbound_Walk_access_time,PNR_TRANSIT inbound - Walk access time,@df.pt_wacc_time_inb * df.time_factor,,,,,,,coef_walktime,,,,,,
util_PNR_TRANSIT_inbound_Walk_other_time,PNR_TRANSIT inbound - Walk other time,@df.pt_waux_skims_inb * df.time_factor,,,,,,,coef_walktime,,,,,,
util_PNR_TRANSIT_inbound_Walk_other_time,PNR_TRANSIT inbound - Fare,"@df.pt_fare_skims_inb/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,coef_inc_adj_cost,,,,,,
util_PNR_TRANSIT_inbound_Fare,PNR_TRANSIT inbound - Operating cost,"@(df.pt_degr_skims_inb * driveSpeed / 60 * costPerMile)/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,coef_inc_adj_cost,,,,,,
#util_PNR_TRANSIT_inbound_Crowd,PNR_TRANSIT inbound - Crowding Penalties,@df.pt_crowd_skims_inb * df.time_factor,,,,,,,coef_crowd,,,,,,
#util_PNR_TRANSIT_inbound_Cappen,PNR_TRANSIT inbound - Capacity Penalties,@df.pt_cappen_skims_inb * df.time_factor,,,,,,,coef_cappen,,,,,,
#KNR Transit,,,,,,,,,,,,,,,
#util_KNR_TRANSIT_Unavailable_for_zero_auto_households,KNR_TRANSIT - Unavailable for zero auto households,auto_ownership == 0,,,,,,,,coef_unavailable,,,,,
#util_KNR_TRANSIT_Unavailable_for_persons_less_than_16,KNR_TRANSIT - Unavailable for persons less than 16,age < 16,,,,,,,,coef_unavailable,,,,,
util_KNR_TRANSIT_Destination_zone_densityIndex,KNR_TRANSIT - Destination zone densityIndex,@df.dest_density_index,,,,,,,,coef_density_index,,,,,
#util_KNR_TRANSIT_Topology,KNR_TRANSIT - Topology,@df.trip_topology,,,,,,,,coef_topology_trn,,,,,
util_KNR_TRANSIT_Person_is_less_than_10_years_old,KNR_TRANSIT - Person is less than 10 years old,@(df.age < 10),,,,,,,,coef_age010_trn,,,,,
util_KNR_TRANSIT_outbound_Unavailable,KNR_TRANSIT outbound - Unavailable,knr_transit_out_available == False,,,,,,,,coef_unavailable,,,,,
util_KNR_TRANSIT_outbound_In_vehicle_time,KNR_TRANSIT outbound - In-vehicle time,@df.kt_ivt_skims_out * df.time_factor,,,,,,,,coef_ivt,,,,,
util_KNR_TRANSIT_outbound_iwait_time,KNR_TRANSIT outbound - iwait time,@df.kt_iwait_skims_out * df.time_factor,,,,,,,,coef_iwait,,,,,
util_KNR_TRANSIT_outbound_transfer_wait_time,KNR_TRANSIT outbound - transfer wait time,@df.kt_xwait_skims_out * df.time_factor,,,,,,,,coef_xwait,,,,,
#util_KNR_TRANSIT_outbound_number_of_transfers,KNR_TRANSIT outbound - number of transfers,@(df.kt_xfers_skims_out).clip(0),,,,,,,,coef_xfers,,,,,
util_KNR_TRANSIT_outbound_drive_time,KNR_TRANSIT outbound - drive time,@df.kt_dacc_skims_out * df.time_factor,,,,,,,,coef_dtim,,,,,
util_KNR_TRANSIT_outbound_Walk_egress_time,KNR_TRANSIT outbound - Walk egress time,@df.kt_wegr_time_out * df.time_factor,,,,,,,,coef_walktime,,,,,
util_KNR_TRANSIT_outbound_Walk_other_time,KNR_TRANSIT outbound - Walk other time,@df.kt_waux_skims_out * df.time_factor,,,,,,,,coef_walktime,,,,,
util_KNR_TRANSIT_outbound_Fare,KNR_TRANSIT outbound - Fare,"@df.kt_fare_skims_out/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,,coef_inc_adj_cost,,,,,
util_KNR_TRANSIT_outbound_operating_cost,KNR_TRANSIT outbound - Operating cost,"@(df.kt_dacc_skims_out * driveSpeed / 60 * costPerMile)/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,,coef_inc_adj_cost,,,,,
#util_KNR_TRANSIT_outbound_Crowd,KNR_TRANSIT outbound - Crowding Penalties,@df.kt_crowd_skims_out * df.time_factor,,,,,,,,coef_crowd,,,,,
#util_KNR_TRANSIT_outbound_Cappen,KNR_TRANSIT outbound - Capacity Penalties,@df.kt_cappen_skims_out * df.time_factor,,,,,,,,coef_cappen,,,,,
util_KNR_TRANSIT_inbound_Unavailable,KNR_TRANSIT inbound - Unavailable,knr_transit_inb_available == False,,,,,,,,coef_unavailable,,,,,
util_KNR_TRANSIT_inbound_In_vehicle_time,KNR_TRANSIT inbound - In-vehicle time,@df.kt_ivt_skims_inb * df.time_factor,,,,,,,,coef_ivt,,,,,
util_KNR_TRANSIT_inbound_iwait_time,KNR_TRANSIT inbound - iwait time,@df.kt_iwait_skims_inb * df.time_factor,,,,,,,,coef_iwait,,,,,
util_KNR_TRANSIT_inbound_transfer_wait_time,KNR_TRANSIT inbound - transfer wait time,@df.kt_xwait_skims_inb * df.time_factor,,,,,,,,coef_xwait,,,,,
#util_KNR_TRANSIT_inbound_number_of_transfers,KNR_TRANSIT inbound - number of transfers,@(df.kt_xfers_skims_inb).clip(0),,,,,,,,coef_xfers,,,,,
util_KNR_TRANSIT_inbound_drive_time,KNR_TRANSIT inbound - drive time,@df.kt_degr_skims_inb * df.time_factor,,,,,,,,coef_dtim,,,,,
util_KNR_TRANSIT_inbound_Walk_access_time,KNR_TRANSIT inbound - Walk access time,@df.kt_wacc_time_inb * df.time_factor,,,,,,,,coef_walktime,,,,,
util_KNR_TRANSIT_inbound_Walk_other_time,KNR_TRANSIT inbound - Fare,@df.kt_waux_skims_inb * df.time_factor,,,,,,,,coef_walktime,,,,,
util_KNR_TRANSIT_inbound_Fare,KNR_TRANSIT inbound - Operating cost,"@df.kt_fare_skims_inb/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,,coef_inc_adj_cost,,,,,
util_KNR_TRANSIT_inbound_operating_cost,KKNR_TRANSIT inbound - Operating cost,"@(df.kt_degr_skims_inb * driveSpeed / 60 * costPerMile)/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,,coef_inc_adj_cost,,,,,
#util_KNR_TRANSIT_inbound_Crowd,KNR_TRANSIT inbound - Crowding Penalties,@df.kt_crowd_skims_inb * df.time_factor,,,,,,,,coef_crowd,,,,,
#util_KNR_TRANSIT_inbound_Cappen,KNR_TRANSIT inbound - Capacity Penalties,@df.kt_cappen_skims_inb * df.time_factor,,,,,,,,coef_cappen,,,,,
#TNC Transit,,,,,,,,,,,,,,,
#util_TNC_TRANSIT_Unavailable_for_persons_less_than_16,TNC_TRANSIT - Unavailable for persons less than 16,age < 16,,,,,,,,,coef_unavailable,,,,
util_TNC_TRANSIT_Destination_zone_densityIndex,TNC_TRANSIT - Destination zone densityIndex,@df.dest_density_index,,,,,,,,,coef_density_index,,,,
#util_TNC_TRANSIT_Topology,TNC_TRANSIT - Topology,@df.trip_topology,,,,,,,,,coef_topology_trn,,,,
util_TNC_TRANSIT_Person_is_less_than_10_years_old,TNC_TRANSIT - Person is less than 10 years old,@(df.age < 10),,,,,,,,,coef_age010_trn,,,,
util_TNC_TRANSIT_outbound_Unavailable,TNC_TRANSIT outbound - Unavailable,tnc_transit_out_available == False,,,,,,,,,coef_unavailable,,,,
util_TNC_TRANSIT_outbound_In_vehicle_time,TNC_TRANSIT outbound - In-vehicle time,@df.kt_ivt_skims_out * df.time_factor,,,,,,,,,coef_ivt,,,,
util_TNC_TRANSIT_outbound_iwait_time,TNC_TRANSIT outbound - iwait time,@df.kt_iwait_skims_out * df.time_factor,,,,,,,,,coef_iwait,,,,
util_TNC_TRANSIT_outbound_transfer_wait_time,TNC_TRANSIT outbound - transfer wait time,@df.kt_xwait_skims_out * df.time_factor,,,,,,,,,coef_xwait,,,,
#util_TNC_TRANSIT_outbound_number_of_transfers,TNC_TRANSIT outbound - number of transfers,@(df.kt_xfers_skims_out).clip(0),,,,,,,,,coef_xfers,,,,
util_TNC_TRANSIT_outbound_drive_time,TNC_TRANSIT outbound - drive time,@df.kt_dacc_skims_out * df.time_factor,,,,,,,,,coef_dtim,,,,
util_TNC_TRANSIT_outbound_Walk_egress_time,TNC_TRANSIT outbound - Walk egress time,@df.kt_wegr_time_out * df.time_factor,,,,,,,,,coef_walktime,,,,
util_TNC_TRANSIT_outbound_Walk_other_time,TNC_TRANSIT outbound - Walk other time,@df.kt_waux_skims_out * df.time_factor,,,,,,,,,coef_walktime,,,,
util_TNC_TRANSIT_outbound_Fare,TNC_TRANSIT outbound - Fare,"@df.kt_fare_skims_out/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,,,coef_inc_adj_cost,,,,
util_TNC_TRANSIT_outbound_operating_cost,TNC_TRANSIT outbound - Operating cost,"@np.maximum(TNC_single_baseFare+df.kt_dacc_skims_out*driveSpeed/60*TNC_single_costPerMile+df.kt_dacc_skims_out*TNC_single_costPerMinute,TNC_single_costMinimum)*100/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,,,coef_inc_adj_cost,,,,
#util_TNC_TRANSIT_outbound_Crowd,TNC_TRANSIT outbound - Crowding Penalties,@df.kt_crowd_skims_out * df.time_factor,,,,,,,,,coef_crowd,,,,
#util_TNC_TRANSIT_outbound_Cappen,TNC_TRANSIT outbound - Capacity Penalties,@df.kt_cappen_skims_out * df.time_factor,,,,,,,,,coef_cappen,,,,
util_TNC_TRANSIT_inbound_Unavailable,TNC_TRANSIT inbound - Unavailable,tnc_transit_inb_available == False,,,,,,,,,coef_unavailable,,,,
util_TNC_TRANSIT_inbound_In_vehicle_time,TNC_TRANSIT inbound - In-vehicle time,@df.kt_ivt_skims_inb * df.time_factor,,,,,,,,,coef_ivt,,,,
util_TNC_TRANSIT_inbound_iwait_time,TNC_TRANSIT inbound - iwait time,@df.kt_iwait_skims_inb * df.time_factor,,,,,,,,,coef_iwait,,,,
util_TNC_TRANSIT_inbound_transfer_wait_time,TNC_TRANSIT inbound - transfer wait time,@df.kt_xwait_skims_inb * df.time_factor,,,,,,,,,coef_xwait,,,,
#util_TNC_TRANSIT_inbound_number_of_transfers,TNC_TRANSIT inbound - number of transfers,@(df.kt_xfers_skims_inb).clip(0),,,,,,,,,coef_xfers,,,,
util_TNC_TRANSIT_inbound_drive_time,TNC_TRANSIT inbound - drive time,@df.kt_degr_skims_inb * df.time_factor,,,,,,,,,coef_dtim,,,,
util_TNC_TRANSIT_inbound_Walk_access_time,TNC_TRANSIT inbound - Walk access time,@df.kt_wacc_time_inb * df.time_factor,,,,,,,,,coef_walktime,,,,
util_TNC_TRANSIT_inbound_Walk_other_time,TNC_TRANSIT inbound - Walk other time,@df.kt_waux_skims_inb * df.time_factor,,,,,,,,,coef_walktime,,,,
util_TNC_TRANSIT_inbound_Fare,TNC_TRANSIT inbound - Fare,"@df.kt_fare_skims_inb/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,,,coef_inc_adj_cost,,,,
util_TNC_TRANSIT_inbound_operating_cost,TNC_TRANSIT inbound - Operating cost,"@np.maximum(TNC_single_baseFare+df.kt_degr_skims_inb*driveSpeed/60*TNC_single_costPerMile+df.kt_degr_skims_inb*TNC_single_costPerMinute,TNC_single_costMinimum)*100/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,,,coef_inc_adj_cost,,,,
#util_TNC_TRANSIT_inbound_Crowd,TNC_TRANSIT inbound - Crowding Penalties,@df.kt_crowd_skims_inb * df.time_factor,,,,,,,,,coef_crowd,,,,
#util_TNC_TRANSIT_inbound_Cappen,TNC_TRANSIT inbound - Capacity Penalties,@df.kt_cappen_skims_inb * df.time_factor,,,,,,,,,coef_cappen,,,,
#,Taxi,,,,,,,,,,,,,,
util_Taxi_In_vehicle_time,Taxi - In-vehicle time,@df.s2_time_skims * df.time_factor,,,,,,,,,,coef_ivt,,,
util_Taxi_Wait_time,Taxi - Wait time,@df.origTaxiWaitTime * df.time_factor,,,,,,,,,,coef_iwait,,,
util_Taxi_Tolls,Taxi - Tolls,"@df.s2_cost_skims * 100 /(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,,,,coef_inc_adj_cost,,,
util_Taxi_Fare,Taxi - Fare,"@(Taxi_baseFare + df.s2_dist_skims * Taxi_costPerMile + df.s2_time_skims * Taxi_costPerMinute)*100/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,,,,coef_inc_adj_cost,,,
#,TNC Single,,,,,,,,,,,,,,
util_TNC_Single_In_vehicle_time,TNC Single - In-vehicle time,@df.s2_time_skims * df.time_factor,,,,,,,,,,,coef_ivt,,
util_TNC_Single_Wait_time,TNC Single - Wait time,@df.origSingleTNCWaitTime * df.time_factor,,,,,,,,,,,coef_iwait,,
util_TNC_Single_Tolls,TNC Single - Tolls,"@df.s2_cost_skims * 100/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,,,,,coef_inc_adj_cost,,
util_TNC_Single_Cost,TNC Single - Cost,"@np.maximum(TNC_single_baseFare+df.s2_dist_skims*TNC_single_costPerMile+df.s2_time_skims*TNC_single_costPerMinute,TNC_single_costMinimum)*100/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,,,,,coef_inc_adj_cost,,
#,#TNC Shared,,,,,,,,,,,,,,
util_TNC_Shared_In_vehicle_time,TNC Shared - In-vehicle time,@df.s2_time_skims * df.time_factor,,,,,,,,,,,,coef_ivt,
util_TNC_Shared_Wait_time,TNC Shared - Wait time,@df.origSharedTNCWaitTime * df.time_factor,,,,,,,,,,,,coef_iwait,
util_TNC_Shared_Tolls,TNC Shared - Tolls,"@df.s2_cost_skims * 100/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,,,,,,coef_inc_adj_cost,
util_TNC_Shared_Cost,TNC Shared - Cost,"@np.maximum(TNC_shared_baseFare+df.s2_dist_skims*TNC_shared_costPerMile+df.s2_time_skims*TNC_shared_costPerMinute,TNC_shared_costMinimum)*100/(np.maximum(df.income,1000)**df.income_exponent)",,,,,,,,,,,,coef_inc_adj_cost,
#SCHBUS ,,,,,,,,,,,,,,,
util_SCHBUS_In_vehicle_time,School bus - In-vehicle time,@df.s3_dist_skims * 60 / schbusSpeed * df.time_factor,,,,,,,,,,,,,coef_ivt
util_SCHBUS_Walk_time,School Bus - Walk time asserted,10,,,,,,,,,,,,,coef_walktime
util_SCHBUS_Wait_time,School Bus - Wait time asserted,10,,,,,,,,,,,,,coef_iwait
#Tour mode constraints,,,,,,,,,,,,,,,
#util_tour_mode_is_auto,Auto tour mode availability,tour_mode_is_auto,,,,,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable
util_tour_mode_is_SOV,SOV tour mode availability,tour_mode_is_SOV,,coef_unavailable,coef_unavailable,,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable
util_tour_mode_is_SR2,SR2 tour mode availability,tour_mode_is_SR2,,,coef_unavailable,,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable
util_tour_mode_is_SR3,SR3 tour mode availability,tour_mode_is_SR3,,,,,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable
util_tour_mode_is_walk,Walk tour mode availability,tour_mode_is_walk,coef_unavailable,coef_unavailable,coef_unavailable,,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable
util_tour_mode_is_bike,Bike tour mode availability,tour_mode_is_bike,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable
util_tour_mode_is_walk_transit,Walk Transit tour mode availability,tour_mode_is_walk_transit,coef_unavailable,coef_unavailable,coef_unavailable,,coef_unavailable,,coef_unavailable,coef_unavailable,coef_unavailable,,,,coef_unavailable
util_tour_mode_is_pnr_transit,PNR Transit tour modes availability,tour_mode_is_pnr_transit,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,,coef_unavailable,coef_unavailable,-10,-10,-10,coef_unavailable
util_tour_mode_is_knr_transit,KNR Transit tour modes availability,tour_mode_is_knr_transit,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,,coef_unavailable,-10,-10,-10,coef_unavailable
util_tour_mode_is_tnc_transit,TNC Transit tour modes availability,tour_mode_is_tnc_transit,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,,,,,coef_unavailable
util_tour_mode_is_ride_hail,Ride hail tour modes availability,@df.tour_mode_is_ride_hail,coef_unavailable,,,,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,,,,coef_unavailable
util_tour_mode_is_SCHBUS,SCHBUS tour modes availability,tour_mode_is_schbus,coef_unavailable,,,,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,coef_unavailable,
#indiv tour ASCs,,,,,,,,,,,,,,,
util_Drive_Alone_tour_mode_ASC,Drive Alone tour mode ASC,@(df.is_indiv & df.i_tour_mode.isin(I_SOV_MODES)),,,,sov_ASC_walk,,,,,,,,,
util_Shared_Ride_2_tour_mode_ASC,Shared Ride 2 tour mode ASC ,@(df.is_indiv & df.i_tour_mode.isin(I_SR2_MODES)),sr2_ASC_sov,,,sr2_ASC_walk,,,,,,,,,
util_Shared_Ride_3_tour_mode_ASC,Shared Ride 3+ tour mode ASC,@(df.is_indiv & df.i_tour_mode.isin(I_SR3P_MODES)),sr3p_ASC_sov,sr3p_ASC_sr2,,sr3p_ASC_walk,,,,,,,,,
util_Walk_Transit_tour_mode_ASC,Walk Transit tour mode ASC,@df.is_indiv & df.tour_mode_is_walk_transit,,,,walk_transit_ASC_walk,,,,,,walk_transit_ASC_taxi,walk_transit_ASC_tnc_single,walk_transit_ASC_tnc_shared,
util_TNC_Transit_tour_mode_ASC,TNC Transit tour mode ASC,@df.is_indiv & df.tour_mode_is_tnc_transit,,,,,,,,,,tnc_transit_ASC_taxi,tnc_transit_ASC_tnc_single,tnc_transit_ASC_tnc_shared,
util_Ride_Hail_tour_mode_ASC,Ride Hail tour mode ASC,@(df.is_indiv & df.tour_mode_is_ride_hail),,ride_hail_ASC_sr2,ride_hail_ASC_sr3p,ride_hail_ASC_walk,,,,,,ride_hail_ASC_taxi,,ride_hail_ASC_tnc_shared,
#joint tour ASCs,,,,,,,,,,,,,,,
util_joint_Shared_Ride_2_tour_mode_ASC,joint - sr2 tour mode ASC,@(df.is_joint & df.i_tour_mode.isin(I_SR2_MODES)),,,,joint_sr2_ASC_walk,,,,,,,,,
util_joint_Shared_Ride_3+_tour_mode_ASC,joint - sr3p tour mode ASC,@(df.is_joint & df.i_tour_mode.isin(I_SR3P_MODES)),,joint_sr3p_ASC_sr2,,joint_sr3p_ASC_walk,,,,,,,,,
util_joint_Walk_to_Transit_tour_mode_ASC,joint - Walk to Transit tour mode ASC,@(df.is_joint & df.tour_mode_is_walk_transit),,joint_walk_transit_ASC_sr2,joint_walk_transit_ASC_sr3p,joint_walk_transit_ASC_walk,,,,,,joint_walk_transit_ASC_taxi,joint_walk_transit_ASC_tnc_single,joint_walk_transit_ASC_tnc_shared,
util_joint_Drive_to_Transit_tour_mode_ASC,joint - Drive to Transit tour mode ASC,@(df.is_joint & df.tour_mode_is_pnr_transit),,,,,,,,,,joint_drive_transit_ASC_taxi,joint_drive_transit_ASC_tnc_single,joint_drive_transit_ASC_tnc_shared,
util_joint_Ride_Hail_tour_mode_ASC,joint - Ride Hail tour mode ASC,@(df.is_joint & df.tour_mode_is_ride_hail),,joint_ride_hail_ASC_sr2,joint_ride_hail_ASC_sr3p,joint_ride_hail_ASC_walk,,,,,,joint_ride_hail_ASC_taxi,joint_ride_hail_ASC_tnc_single,,
#,#,,,,,,,,,,,,,,
util_Walk_not_available_for_long_distances,Walk not available for long distances,@(od_skims['DISTWALK'] > max_walk_distance),,,,-10,,,,,,,,,
util_Bike_not_available_for_long_distances,Bike not available for long distances,@(od_skims['DISTBIKE'] > max_bike_distance),,,,,-10,,,,,,,,
util_origin_density_index,Origin density index,@coef_origin_density_applied*(origin_density_index_multiplier*df.origin_density_index).clip(origin_density_index_max),,,,,,coef_ivt,coef_ivt,coef_ivt,coef_ivt,,coef_ivt,coef_ivt,
#util_walk_express_penalty,Walk-express penalty for intermediate stops,@walk_express_penalty * ~(df.first_trip | df.first_trip),,,,,,,,,,,,,
util_adjust_tnc_shared,TNC shared adjustment,@adjust_tnc_shared,,,,,,,,,,,,coef_ivt,
util_schbus_trip_not_tour,non-school bus trips on a school bus tour,tour_mode_is_schbus,coef_unavailable,schbus_ASC_sbtourntrip_sr2,schbus_ASC_sbtourntrip_sr3,schbus_ASC_sbtourntrip_walk,coef_unavailable,schbus_ASC_sbtourntrip_trnw,coef_unavailable,schbus_ASC_sbtourntrip_trnknr,schbus_ASC_sbtourntrip_trntnc,schbus_ASC_sbtourntrip_taxi,schbus_ASC_sbtourntrip_tncsingle,schbus_ASC_sbtourntrip_tncshared,
#SCHBUS,,,,,,,,,,,,,,,
util_SCHBUS_asc,school_tour,,,,,,,,,,,,,schbus_ASC,
util_schbus_notschooltour,,~school_tour,,,,,,,,,,,,,coef_unavailable
util_schbus_notschbustour,,~tour_mode_is_schbus,,,,,,,,,,,,,coef_unavailable
